---
interface Props {
  title: string;
  image?: string;
  href?: string;
  class?: string;
  variant?: 'standard' | 'overlay'; // New prop for different card styles
}

const { 
  title, 
  image, 
  href, 
  class: className,
  variant = 'standard' 
} = Astro.props;
---

<div class={`group relative bg-white overflow-hidden transition-all duration-500 hover:-translate-y-2 hover:shadow-2xl ${className || ''}`}>
  
  {/* Link Wrapper (Makes whole card clickable if href exists) */}
  {href && <a href={href} class="absolute inset-0 z-20" aria-label={`View details for ${title}`}></a>}

  {/* Image Container */}
  {image && (
    <div class={`relative overflow-hidden ${variant === 'overlay' ? 'h-full absolute inset-0' : 'h-64'}`}>
      
      {/* The Image */}
      <img 
        src={image} 
        alt={title} 
        class={`w-full h-full object-cover transition-transform duration-700 ease-in-out group-hover:scale-110 ${variant === 'overlay' ? 'brightness-75 group-hover:brightness-50' : ''}`} 
      />

      {/* Optional: Icon Slot (e.g., Price tag or Category icon) */}
      <div class="absolute top-4 right-4 z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-2 group-hover:translate-y-0">
        <slot name="icon" />
      </div>
    </div>
  )}

  {/* Content Container */}
  <div class={`relative z-10 p-8 flex flex-col items-center text-center transition-colors duration-300
    ${variant === 'overlay' 
      ? 'h-full justify-center text-white' 
      : 'bg-white border-t-4 border-vintage-cream group-hover:border-vintage-gold'
    }`}
  >
    
    <h3 class={`text-2xl font-serif font-bold mb-4 ${variant === 'overlay' ? 'text-white' : 'text-vintage-dark'}`}>
      {title}
    </h3>
    
    <div class={`mb-6 font-sans leading-relaxed ${variant === 'overlay' ? 'text-gray-100' : 'text-gray-600'}`}>
      <slot />
    </div>

    {/* CTA Button/Link Visualization */}
    {href && (
      <span class={`inline-flex items-center text-sm font-bold uppercase tracking-widest transition-all duration-300 group-hover:gap-2
        ${variant === 'overlay' 
          ? 'text-white border-b border-white' 
          : 'text-vintage-green group-hover:text-vintage-gold'
        }`}
      >
        Learn More
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1 opacity-0 group-hover:opacity-100 transition-all" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
        </svg>
      </span>
    )}
  </div>
</div>